# Telegram Mandatory Subscription Bot

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –±–æ—Ç –Ω–∞ aiogram v3, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ü–µ–ª–µ–≤–æ–º —á–∞—Ç–µ, –ø–æ–∫–∞ –æ–Ω–∏ –Ω–µ –ø–æ–¥–ø–∏—à—É—Ç—Å—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª(—ã). –ü–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–≤–æ–±–æ–¥–Ω–æ –ø–∏—Å–∞—Ç—å.

## –ó–∞–ø—É—Å–∫

1) –°–æ–∑–¥–∞–π—Ç–µ `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```
BOT_TOKEN=123456:ABC...
REQUIRED_CHANNELS=@channel_one,@channel_two
CHAT_ID=-1001234567890
SUB_CHECK_CACHE_TTL=60
NOTICE_REPEAT_TTL=30
```

- `REQUIRED_CHANNELS`: —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é `@username` (–ø—É–±–ª–∏—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã/—á–∞—Ç—ã).
- `CHAT_ID`: ID –≥—Ä—É–ø–ø—ã/—Å—É–ø–µ—Ä–≥—Ä—É–ø–ø—ã, –≥–¥–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç –º–æ–¥–µ—Ä–∞—Ü–∏—è.

2) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
python -m app.main
```

–ë–æ—Ç—É —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ —Ü–µ–ª–µ–≤–æ–º —á–∞—Ç–µ: —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π. –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –¥–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø—Ä–∞–≤–æ ¬´–¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤¬ª –Ω–µ –Ω—É–∂–Ω–æ) –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ –∫–∞–Ω–∞–ª –ø—É–±–ª–∏—á–Ω—ã–º.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

- –ö–æ–º–∞–Ω–¥–∞ `/settings` –¥–æ—Å—Ç—É–ø–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º (`ADMIN_USER_IDS` –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏):
  - ¬´‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª¬ª ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `@username` –∏–ª–∏ ID –∫–∞–Ω–∞–ª–∞/—á–∞—Ç–∞.
  - ¬´‚ûñ –£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª¬ª ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è.
  - ¬´üìã –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤¬ª ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤.
  - ¬´üí¨ –ù–∞–∑–Ω–∞—á–∏—Ç—å —á–∞—Ç¬ª ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —á–∞—Ç–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ ID —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è.

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```
ADMIN_USER_IDS=123456789,987654321
CONFIG_STORE_PATH=./data/config.json
```

–•—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ JSON –ø–æ –ø—É—Ç–∏ `CONFIG_STORE_PATH` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `data/config.json`).

